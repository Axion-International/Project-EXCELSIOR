!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core")):"function"==typeof define&&define.amd?define("angular-web-storage",["exports","@angular/core"],t):t((e=e||self)["angular-web-storage"]={},e.ng.core)}(this,function(e,t){"use strict";var n="object"==typeof document&&!!document,r=function(){function e(){}return e.get=function(t,n){if(null==t)return null;var r=e.parse(t.getItem(n)||"null")||null;return null===r?null:"object"==typeof r&&"undefined"!=typeof r._expired&&0!==r._expired&&+new Date>r._expired?(e.remove(t,n),null):r._value||null},e.set=function(t,n,r,o,i){void 0===o&&(o=0),void 0===i&&(i="t"),null!=t&&t.setItem(n,e.stringify({_expired:e.getExpired(o,i),_value:r}))},e.remove=function(e,t){null!=e&&e.removeItem(t)},e.key=function(e,t){return null==e?"":e.key(t)},e.getExpired=function(e,t){if(e<=0)return 0;var n=+new Date;switch(t){case"s":return n+1e3*e;case"m":return n+6e4*e;case"h":return n+36e5*e;case"d":return n+864e5*e;case"w":return n+6048e5*e;case"y":return n+31536e6*e;case"t":return n+e}return 0},e.stringify=function(e){return JSON.stringify(e)},e.parse=function(e){try{return JSON.parse(e)||null}catch(t){return e}},e}(),o={};function i(e,t,n,i){return void 0===n&&(n=0),void 0===i&&(i="d"),function(u,c){t=t||c,Object.defineProperty(u,c,{get:function(){return r.get(e,t)},set:function(u){if(!o[t])return null===r.get(e,t)&&r.set(e,t,u,n,i),void(o[t]=!0);r.set(e,t,u,n,i)},enumerable:!0,configurable:!0})}}var u,c=this&&this.__extends||(u=function(e,t){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}u(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),f=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,u=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(u=(i<3?o(u):i>3?o(t,n,u):o(t,n))||u);return i>3&&u&&Object.defineProperty(t,n,u),u},a=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=function(){function e(e){this.storage=e}return e.prototype.get=function(e){return r.get(this.storage,e)},e.prototype.set=function(e,t,n,o){return void 0===n&&(n=0),void 0===o&&(o="d"),r.set(this.storage,e,t,n,o)},e.prototype.remove=function(e){var t=this;if("string"!=typeof e){for(var n=0,o=r.key(this.storage,n),i=[];o;)e.test(o)&&i.push(o),o=r.key(this.storage,++n);i.forEach(function(e){return r.remove(t.storage,e)})}else r.remove(this.storage,e)},e.prototype.clear=function(){this.storage.clear()},e}(),s=function(e){function r(){return e.call(this,n?localStorage:null)||this}return c(r,e),r.ngInjectableDef=t.defineInjectable({factory:function(){return new r},token:r,providedIn:"root"}),r=f([t.Injectable({providedIn:"root"}),a("design:paramtypes",[])],r)}(l),d=function(e){function r(){return e.call(this,n?sessionStorage:null)||this}return c(r,e),r.ngInjectableDef=t.defineInjectable({factory:function(){return new r},token:r,providedIn:"root"}),r=f([t.Injectable({providedIn:"root"}),a("design:paramtypes",[])],r)}(l),p=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,u=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(u=(i<3?o(u):i>3?o(t,n,u):o(t,n))||u);return i>3&&u&&Object.defineProperty(t,n,u),u},g=function(){function e(){}return e=p([t.NgModule()],e)}();e.AngularWebStorageModule=g,e.LocalStorage=function(e,t,r){return void 0===t&&(t=0),void 0===r&&(r="t"),i(n?localStorage:null,e,t,r)},e.LocalStorageService=s,e.SessionStorage=function(e,t,r){return void 0===t&&(t=0),void 0===r&&(r="t"),i(n?sessionStorage:null,e,t,r)},e.SessionStorageService=d,e.StorageService=l,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=angular-web-storage.umd.min.js.map